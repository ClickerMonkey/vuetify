import Vue from 'vue';
export default Vue.extend({
    name: 'mouse',
    methods: {
        getDefaultMouseEventHandlers(suffix, getEvent) {
            return this.getMouseEventHandlers({
                ['click' + suffix]: { event: 'click' },
                ['contextmenu' + suffix]: { event: 'contextmenu', prevent: true, result: false },
                ['mousedown' + suffix]: { event: 'mousedown' },
                ['mousemove' + suffix]: { event: 'mousemove' },
                ['mouseup' + suffix]: { event: 'mouseup' },
                ['mouseenter' + suffix]: { event: 'mouseenter' },
                ['mouseleave' + suffix]: { event: 'mouseleave' },
                ['touchstart' + suffix]: { event: 'touchstart' },
                ['touchmove' + suffix]: { event: 'touchmove' },
                ['touchend' + suffix]: { event: 'touchend' }
            }, getEvent);
        },
        getMouseEventHandlers(events, getEvent) {
            const on = {};
            for (const event in events) {
                const eventOptions = events[event];
                if (!this.$listeners[event])
                    continue;
                // TODO somehow pull in modifiers
                const prefix = eventOptions.passive ? '&' : ((eventOptions.once ? '~' : '') + (eventOptions.capture ? '!' : ''));
                const key = prefix + eventOptions.event;
                const handler = e => {
                    const mouseEvent = e;
                    if (eventOptions.button === undefined || (mouseEvent.buttons > 0 && mouseEvent.button === eventOptions.button)) {
                        if (eventOptions.prevent) {
                            e.preventDefault();
                        }
                        if (eventOptions.stop) {
                            e.stopPropagation();
                        }
                        this.$emit(event, getEvent(e));
                    }
                    return eventOptions.result;
                };
                if (key in on) {
                    if (Array.isArray(on[key])) {
                        on[key].push(handler);
                    }
                    else {
                        on[key] = [on[key], handler];
                    }
                }
                else {
                    on[key] = handler;
                }
            }
            return on;
        }
    }
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW91c2UuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvY29tcG9uZW50cy9WQ2FsZW5kYXIvbWl4aW5zL21vdXNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sR0FBRyxNQUFNLEtBQUssQ0FBQTtBQXFCckIsZUFBZSxHQUFHLENBQUMsTUFBTSxDQUFDO0lBQ3hCLElBQUksRUFBRSxPQUFPO0lBRWIsT0FBTyxFQUFFO1FBQ1AsNEJBQTRCLENBQUUsTUFBYyxFQUFFLFFBQXNCO1lBQ2xFLE9BQU8sSUFBSSxDQUFDLHFCQUFxQixDQUFDO2dCQUNoQyxDQUFDLE9BQU8sR0FBRyxNQUFNLENBQUMsRUFBRSxFQUFFLEtBQUssRUFBRSxPQUFPLEVBQUU7Z0JBQ3RDLENBQUMsYUFBYSxHQUFHLE1BQU0sQ0FBQyxFQUFFLEVBQUUsS0FBSyxFQUFFLGFBQWEsRUFBRSxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUU7Z0JBQ2hGLENBQUMsV0FBVyxHQUFHLE1BQU0sQ0FBQyxFQUFFLEVBQUUsS0FBSyxFQUFFLFdBQVcsRUFBRTtnQkFDOUMsQ0FBQyxXQUFXLEdBQUcsTUFBTSxDQUFDLEVBQUUsRUFBRSxLQUFLLEVBQUUsV0FBVyxFQUFFO2dCQUM5QyxDQUFDLFNBQVMsR0FBRyxNQUFNLENBQUMsRUFBRSxFQUFFLEtBQUssRUFBRSxTQUFTLEVBQUU7Z0JBQzFDLENBQUMsWUFBWSxHQUFHLE1BQU0sQ0FBQyxFQUFFLEVBQUUsS0FBSyxFQUFFLFlBQVksRUFBRTtnQkFDaEQsQ0FBQyxZQUFZLEdBQUcsTUFBTSxDQUFDLEVBQUUsRUFBRSxLQUFLLEVBQUUsWUFBWSxFQUFFO2dCQUNoRCxDQUFDLFlBQVksR0FBRyxNQUFNLENBQUMsRUFBRSxFQUFFLEtBQUssRUFBRSxZQUFZLEVBQUU7Z0JBQ2hELENBQUMsV0FBVyxHQUFHLE1BQU0sQ0FBQyxFQUFFLEVBQUUsS0FBSyxFQUFFLFdBQVcsRUFBRTtnQkFDOUMsQ0FBQyxVQUFVLEdBQUcsTUFBTSxDQUFDLEVBQUUsRUFBRSxLQUFLLEVBQUUsVUFBVSxFQUFFO2FBQzdDLEVBQUUsUUFBUSxDQUFDLENBQUE7UUFDZCxDQUFDO1FBQ0QscUJBQXFCLENBQUUsTUFBbUIsRUFBRSxRQUFzQjtZQUNoRSxNQUFNLEVBQUUsR0FBbUIsRUFBRSxDQUFBO1lBRTdCLEtBQUssTUFBTSxLQUFLLElBQUksTUFBTSxFQUFFO2dCQUMxQixNQUFNLFlBQVksR0FBRyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUE7Z0JBRWxDLElBQUksQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQztvQkFBRSxTQUFRO2dCQUVyQyxpQ0FBaUM7Z0JBRWpDLE1BQU0sTUFBTSxHQUFHLFlBQVksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxZQUFZLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUE7Z0JBQ2hILE1BQU0sR0FBRyxHQUFHLE1BQU0sR0FBRyxZQUFZLENBQUMsS0FBSyxDQUFBO2dCQUV2QyxNQUFNLE9BQU8sR0FBaUIsQ0FBQyxDQUFDLEVBQUU7b0JBQ2hDLE1BQU0sVUFBVSxHQUFlLENBQWUsQ0FBQTtvQkFDOUMsSUFBSSxZQUFZLENBQUMsTUFBTSxLQUFLLFNBQVMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxPQUFPLEdBQUcsQ0FBQyxJQUFJLFVBQVUsQ0FBQyxNQUFNLEtBQUssWUFBWSxDQUFDLE1BQU0sQ0FBQyxFQUFFO3dCQUM5RyxJQUFJLFlBQVksQ0FBQyxPQUFPLEVBQUU7NEJBQ3hCLENBQUMsQ0FBQyxjQUFjLEVBQUUsQ0FBQTt5QkFDbkI7d0JBQ0QsSUFBSSxZQUFZLENBQUMsSUFBSSxFQUFFOzRCQUNyQixDQUFDLENBQUMsZUFBZSxFQUFFLENBQUE7eUJBQ3BCO3dCQUNELElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxFQUFFLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFBO3FCQUMvQjtvQkFFRCxPQUFPLFlBQVksQ0FBQyxNQUFNLENBQUE7Z0JBQzVCLENBQUMsQ0FBQTtnQkFFRCxJQUFJLEdBQUcsSUFBSSxFQUFFLEVBQUU7b0JBQ2IsSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFO3dCQUN6QixFQUFFLENBQUMsR0FBRyxDQUFvQixDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQTtxQkFDMUM7eUJBQU07d0JBQ0wsRUFBRSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLE9BQU8sQ0FBbUIsQ0FBQTtxQkFDL0M7aUJBQ0Y7cUJBQU07b0JBQ0wsRUFBRSxDQUFDLEdBQUcsQ0FBQyxHQUFHLE9BQU8sQ0FBQTtpQkFDbEI7YUFDRjtZQUVELE9BQU8sRUFBRSxDQUFBO1FBQ1gsQ0FBQztLQUNGO0NBQ0YsQ0FBQyxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFZ1ZSBmcm9tICd2dWUnXG5cbmV4cG9ydCB0eXBlIE1vdXNlSGFuZGxlciA9IChlOiBNb3VzZUV2ZW50IHwgVG91Y2hFdmVudCkgPT4gYW55XG5cbmV4cG9ydCB0eXBlIE1vdXNlRXZlbnRzID0ge1xuICBbZXZlbnQ6IHN0cmluZ106IHtcbiAgICBldmVudDogc3RyaW5nXG4gICAgcGFzc2l2ZT86IGJvb2xlYW5cbiAgICBjYXB0dXJlPzogYm9vbGVhblxuICAgIG9uY2U/OiBib29sZWFuXG4gICAgc3RvcD86IGJvb2xlYW5cbiAgICBwcmV2ZW50PzogYm9vbGVhblxuICAgIGJ1dHRvbj86IG51bWJlclxuICAgIHJlc3VsdD86IGFueVxuICB9XG59XG5cbmV4cG9ydCB0eXBlIE1vdXNlRXZlbnRzTWFwID0ge1xuICBbZXZlbnQ6IHN0cmluZ106IE1vdXNlSGFuZGxlciB8IE1vdXNlSGFuZGxlcltdXG59XG5cbmV4cG9ydCBkZWZhdWx0IFZ1ZS5leHRlbmQoe1xuICBuYW1lOiAnbW91c2UnLFxuXG4gIG1ldGhvZHM6IHtcbiAgICBnZXREZWZhdWx0TW91c2VFdmVudEhhbmRsZXJzIChzdWZmaXg6IHN0cmluZywgZ2V0RXZlbnQ6IE1vdXNlSGFuZGxlcik6IE1vdXNlRXZlbnRzTWFwIHtcbiAgICAgIHJldHVybiB0aGlzLmdldE1vdXNlRXZlbnRIYW5kbGVycyh7XG4gICAgICAgIFsnY2xpY2snICsgc3VmZml4XTogeyBldmVudDogJ2NsaWNrJyB9LFxuICAgICAgICBbJ2NvbnRleHRtZW51JyArIHN1ZmZpeF06IHsgZXZlbnQ6ICdjb250ZXh0bWVudScsIHByZXZlbnQ6IHRydWUsIHJlc3VsdDogZmFsc2UgfSxcbiAgICAgICAgWydtb3VzZWRvd24nICsgc3VmZml4XTogeyBldmVudDogJ21vdXNlZG93bicgfSxcbiAgICAgICAgWydtb3VzZW1vdmUnICsgc3VmZml4XTogeyBldmVudDogJ21vdXNlbW92ZScgfSxcbiAgICAgICAgWydtb3VzZXVwJyArIHN1ZmZpeF06IHsgZXZlbnQ6ICdtb3VzZXVwJyB9LFxuICAgICAgICBbJ21vdXNlZW50ZXInICsgc3VmZml4XTogeyBldmVudDogJ21vdXNlZW50ZXInIH0sXG4gICAgICAgIFsnbW91c2VsZWF2ZScgKyBzdWZmaXhdOiB7IGV2ZW50OiAnbW91c2VsZWF2ZScgfSxcbiAgICAgICAgWyd0b3VjaHN0YXJ0JyArIHN1ZmZpeF06IHsgZXZlbnQ6ICd0b3VjaHN0YXJ0JyB9LFxuICAgICAgICBbJ3RvdWNobW92ZScgKyBzdWZmaXhdOiB7IGV2ZW50OiAndG91Y2htb3ZlJyB9LFxuICAgICAgICBbJ3RvdWNoZW5kJyArIHN1ZmZpeF06IHsgZXZlbnQ6ICd0b3VjaGVuZCcgfVxuICAgICAgfSwgZ2V0RXZlbnQpXG4gICAgfSxcbiAgICBnZXRNb3VzZUV2ZW50SGFuZGxlcnMgKGV2ZW50czogTW91c2VFdmVudHMsIGdldEV2ZW50OiBNb3VzZUhhbmRsZXIpOiBNb3VzZUV2ZW50c01hcCB7XG4gICAgICBjb25zdCBvbjogTW91c2VFdmVudHNNYXAgPSB7fVxuXG4gICAgICBmb3IgKGNvbnN0IGV2ZW50IGluIGV2ZW50cykge1xuICAgICAgICBjb25zdCBldmVudE9wdGlvbnMgPSBldmVudHNbZXZlbnRdXG5cbiAgICAgICAgaWYgKCF0aGlzLiRsaXN0ZW5lcnNbZXZlbnRdKSBjb250aW51ZVxuXG4gICAgICAgIC8vIFRPRE8gc29tZWhvdyBwdWxsIGluIG1vZGlmaWVyc1xuXG4gICAgICAgIGNvbnN0IHByZWZpeCA9IGV2ZW50T3B0aW9ucy5wYXNzaXZlID8gJyYnIDogKChldmVudE9wdGlvbnMub25jZSA/ICd+JyA6ICcnKSArIChldmVudE9wdGlvbnMuY2FwdHVyZSA/ICchJyA6ICcnKSlcbiAgICAgICAgY29uc3Qga2V5ID0gcHJlZml4ICsgZXZlbnRPcHRpb25zLmV2ZW50XG5cbiAgICAgICAgY29uc3QgaGFuZGxlcjogTW91c2VIYW5kbGVyID0gZSA9PiB7XG4gICAgICAgICAgY29uc3QgbW91c2VFdmVudDogTW91c2VFdmVudCA9IGUgYXMgTW91c2VFdmVudFxuICAgICAgICAgIGlmIChldmVudE9wdGlvbnMuYnV0dG9uID09PSB1bmRlZmluZWQgfHwgKG1vdXNlRXZlbnQuYnV0dG9ucyA+IDAgJiYgbW91c2VFdmVudC5idXR0b24gPT09IGV2ZW50T3B0aW9ucy5idXR0b24pKSB7XG4gICAgICAgICAgICBpZiAoZXZlbnRPcHRpb25zLnByZXZlbnQpIHtcbiAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZXZlbnRPcHRpb25zLnN0b3ApIHtcbiAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy4kZW1pdChldmVudCwgZ2V0RXZlbnQoZSkpXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIGV2ZW50T3B0aW9ucy5yZXN1bHRcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChrZXkgaW4gb24pIHtcbiAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShvbltrZXldKSkge1xuICAgICAgICAgICAgKG9uW2tleV0gYXMgTW91c2VIYW5kbGVyW10pLnB1c2goaGFuZGxlcilcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb25ba2V5XSA9IFtvbltrZXldLCBoYW5kbGVyXSBhcyBNb3VzZUhhbmRsZXJbXVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvbltrZXldID0gaGFuZGxlclxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBvblxuICAgIH1cbiAgfVxufSlcbiJdfQ==