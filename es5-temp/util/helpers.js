export function createSimpleFunctional(c, el = 'div', name) {
    return {
        name: name || c.replace(/__/g, '-'),
        functional: true,
        render(h, { data, children }) {
            data.staticClass = (`${c} ${data.staticClass || ''}`).trim();
            return h(el, data, children);
        }
    };
}
export function createSimpleTransition(name, origin = 'top center 0', mode) {
    return {
        name,
        functional: true,
        props: {
            origin: {
                type: String,
                default: origin
            }
        },
        render(h, context) {
            context.data = context.data || {};
            context.data.props = { name };
            context.data.on = context.data.on || {};
            if (!Object.isExtensible(context.data.on)) {
                context.data.on = { ...context.data.on };
            }
            if (mode)
                context.data.props.mode = mode;
            context.data.on.beforeEnter = (el) => {
                el.style.transformOrigin = context.props.origin;
                el.style.webkitTransformOrigin = context.props.origin;
            };
            return h('transition', context.data, context.children);
        }
    };
}
export function createJavaScriptTransition(name, functions, css = false, mode = 'in-out') {
    return {
        name,
        functional: true,
        props: {
            css: {
                type: Boolean,
                default: css
            },
            mode: {
                type: String,
                default: mode
            }
        },
        render(h, context) {
            const data = {
                props: {
                    ...context.props,
                    name
                },
                on: functions
            };
            return h('transition', data, context.children);
        }
    };
}
export function directiveConfig(binding, defaults = {}) {
    return {
        ...defaults,
        ...binding.modifiers,
        value: binding.arg,
        ...(binding.value || {})
    };
}
export function addOnceEventListener(el, event, cb) {
    var once = () => {
        cb();
        el.removeEventListener(event, once, false);
    };
    el.addEventListener(event, once, false);
}
export function getNestedValue(obj, path, fallback) {
    const last = path.length - 1;
    if (last < 0)
        return obj === undefined ? fallback : obj;
    for (let i = 0; i < last; i++) {
        if (obj == null) {
            return fallback;
        }
        obj = obj[path[i]];
    }
    if (obj == null)
        return fallback;
    return obj[path[last]] === undefined ? fallback : obj[path[last]];
}
export function deepEqual(a, b) {
    if (a === b)
        return true;
    if (a instanceof Date && b instanceof Date) {
        // If the values are Date, they were convert to timestamp with getTime and compare it
        if (a.getTime() !== b.getTime())
            return false;
    }
    if (a !== Object(a) || b !== Object(b)) {
        // If the values aren't objects, they were already checked for equality
        return false;
    }
    const props = Object.keys(a);
    if (props.length !== Object.keys(b).length) {
        // Different number of props, don't bother to check
        return false;
    }
    return props.every(p => deepEqual(a[p], b[p]));
}
export function getObjectValueByPath(obj, path, fallback) {
    // credit: http://stackoverflow.com/questions/6491463/accessing-nested-javascript-objects-with-string-key#comment55278413_6491621
    if (!path || path.constructor !== String)
        return fallback;
    path = path.replace(/\[(\w+)\]/g, '.$1'); // convert indexes to properties
    path = path.replace(/^\./, ''); // strip a leading dot
    return getNestedValue(obj, path.split('.'), fallback);
}
export function getPropertyFromItem(item, property, fallback) {
    if (property == null)
        return item === undefined ? fallback : item;
    if (item !== Object(item))
        return fallback === undefined ? item : fallback;
    if (typeof property === 'string')
        return getObjectValueByPath(item, property, fallback);
    if (Array.isArray(property))
        return getNestedValue(item, property, fallback);
    if (typeof property !== 'function')
        return fallback;
    const value = property(item, fallback);
    return typeof value === 'undefined' ? fallback : value;
}
export function createRange(length) {
    return Array.from({ length }, (v, k) => k);
}
export function getZIndex(el) {
    if (!el || el.nodeType !== Node.ELEMENT_NODE)
        return 0;
    const index = +window.getComputedStyle(el).getPropertyValue('z-index');
    if (isNaN(index))
        return getZIndex(el.parentNode);
    return index;
}
const tagsToReplace = {
    '&': '&amp;',
    '<': '&lt;',
    '>': '&gt;'
};
export function escapeHTML(str) {
    return str.replace(/[&<>]/g, tag => tagsToReplace[tag] || tag);
}
export function filterObjectOnKeys(obj, keys) {
    const filtered = {};
    for (let i = 0; i < keys.length; i++) {
        const key = keys[i];
        if (typeof obj[key] !== 'undefined') {
            filtered[key] = obj[key];
        }
    }
    return filtered;
}
export function filterChildren(array = [], tag) {
    return array.filter(child => {
        return child.componentOptions &&
            child.componentOptions.Ctor.options.name === tag;
    });
}
export function convertToUnit(str, unit = 'px') {
    if (str == null || str === '') {
        return undefined;
    }
    else if (isNaN(+str)) {
        return String(str);
    }
    else {
        return `${Number(str)}${unit}`;
    }
}
export function kebabCase(str) {
    return (str || '').replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();
}
export function isObject(obj) {
    return obj !== null && typeof obj === 'object';
}
// KeyboardEvent.keyCode aliases
export const keyCodes = Object.freeze({
    enter: 13,
    tab: 9,
    delete: 46,
    esc: 27,
    space: 32,
    up: 38,
    down: 40,
    left: 37,
    right: 39,
    end: 35,
    home: 36,
    del: 46,
    backspace: 8,
    insert: 45,
    pageup: 33,
    pagedown: 34
});
const ICONS_PREFIX = '$vuetify.icons.';
// This remaps internal names like '$vuetify.icons.cancel' to the current name
// for that icon.
export function remapInternalIcon(vm, iconName) {
    if (!iconName.startsWith(ICONS_PREFIX)) {
        return iconName;
    }
    // Now look up icon indirection name, e.g. '$vuetify.icons.cancel'
    return getObjectValueByPath(vm, iconName, iconName);
}
export function keys(o) {
    return Object.keys(o);
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaGVscGVycy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy91dGlsL2hlbHBlcnMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBR0EsTUFBTSxVQUFVLHNCQUFzQixDQUNwQyxDQUFTLEVBQ1QsRUFBRSxHQUFHLEtBQUssRUFDVixJQUFhO0lBRWIsT0FBTztRQUNMLElBQUksRUFBRSxJQUFJLElBQUksQ0FBQyxDQUFDLE9BQU8sQ0FBQyxLQUFLLEVBQUUsR0FBRyxDQUFDO1FBRW5DLFVBQVUsRUFBRSxJQUFJO1FBRWhCLE1BQU0sQ0FBRSxDQUFDLEVBQUUsRUFBRSxJQUFJLEVBQUUsUUFBUSxFQUFFO1lBQzNCLElBQUksQ0FBQyxXQUFXLEdBQUcsQ0FBQyxHQUFHLENBQUMsSUFBSSxJQUFJLENBQUMsV0FBVyxJQUFJLEVBQUUsRUFBRSxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUE7WUFFNUQsT0FBTyxDQUFDLENBQUMsRUFBRSxFQUFFLElBQUksRUFBRSxRQUFRLENBQUMsQ0FBQTtRQUM5QixDQUFDO0tBQ0YsQ0FBQTtBQUNILENBQUM7QUFFRCxNQUFNLFVBQVUsc0JBQXNCLENBQ3BDLElBQVksRUFDWixNQUFNLEdBQUcsY0FBYyxFQUN2QixJQUFhO0lBRWIsT0FBTztRQUNMLElBQUk7UUFFSixVQUFVLEVBQUUsSUFBSTtRQUVoQixLQUFLLEVBQUU7WUFDTCxNQUFNLEVBQUU7Z0JBQ04sSUFBSSxFQUFFLE1BQU07Z0JBQ1osT0FBTyxFQUFFLE1BQU07YUFDaEI7U0FDRjtRQUVELE1BQU0sQ0FBRSxDQUFDLEVBQUUsT0FBTztZQUNoQixPQUFPLENBQUMsSUFBSSxHQUFHLE9BQU8sQ0FBQyxJQUFJLElBQUksRUFBRSxDQUFBO1lBQ2pDLE9BQU8sQ0FBQyxJQUFJLENBQUMsS0FBSyxHQUFHLEVBQUUsSUFBSSxFQUFFLENBQUE7WUFDN0IsT0FBTyxDQUFDLElBQUksQ0FBQyxFQUFFLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQyxFQUFF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c0NvbnRlbnQiOlsiaW1wb3J0IHsgVnVlIH0gZnJvbSAndnVlL3R5cGVzL3Z1ZSdcbmltcG9ydCB7IFZOb2RlLCBWTm9kZURpcmVjdGl2ZSwgRnVuY3Rpb25hbENvbXBvbmVudE9wdGlvbnMgfSBmcm9tICd2dWUvdHlwZXMnXG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVTaW1wbGVGdW5jdGlvbmFsIChcbiAgYzogc3RyaW5nLFxuICBlbCA9ICdkaXYnLFxuICBuYW1lPzogc3RyaW5nXG4pOiBGdW5jdGlvbmFsQ29tcG9uZW50T3B0aW9ucyB7XG4gIHJldHVybiB7XG4gICAgbmFtZTogbmFtZSB8fCBjLnJlcGxhY2UoL19fL2csICctJyksXG5cbiAgICBmdW5jdGlvbmFsOiB0cnVlLFxuXG4gICAgcmVuZGVyIChoLCB7IGRhdGEsIGNoaWxkcmVuIH0pOiBWTm9kZSB7XG4gICAgICBkYXRhLnN0YXRpY0NsYXNzID0gKGAke2N9ICR7ZGF0YS5zdGF0aWNDbGFzcyB8fCAnJ31gKS50cmltKClcblxuICAgICAgcmV0dXJuIGgoZWwsIGRhdGEsIGNoaWxkcmVuKVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU2ltcGxlVHJhbnNpdGlvbiAoXG4gIG5hbWU6IHN0cmluZyxcbiAgb3JpZ2luID0gJ3RvcCBjZW50ZXIgMCcsXG4gIG1vZGU/OiBzdHJpbmdcbik6IEZ1bmN0aW9uYWxDb21wb25lbnRPcHRpb25zIHtcbiAgcmV0dXJuIHtcbiAgICBuYW1lLFxuXG4gICAgZnVuY3Rpb25hbDogdHJ1ZSxcblxuICAgIHByb3BzOiB7XG4gICAgICBvcmlnaW46IHtcbiAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICBkZWZhdWx0OiBvcmlnaW5cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgcmVuZGVyIChoLCBjb250ZXh0KTogVk5vZGUge1xuICAgICAgY29udGV4dC5kYXRhID0gY29udGV4dC5kYXRhIHx8IHt9XG4gICAgICBjb250ZXh0LmRhdGEucHJvcHMgPSB7IG5hbWUgfVxuICAgICAgY29udGV4dC5kYXRhLm9uID0gY29udGV4dC5kYXRhLm9uIHx8IHt9XG4gICAgICBpZiAoIU9iamVjdC5pc0V4dGVuc2libGUoY29udGV4dC5kYXRhLm9uKSkge1xuICAgICAgICBjb250ZXh0LmRhdGEub24gPSB7IC4uLmNvbnRleHQuZGF0YS5vbiB9XG4gICAgICB9XG5cbiAgICAgIGlmIChtb2RlKSBjb250ZXh0LmRhdGEucHJvcHMubW9kZSA9IG1vZGVcblxuICAgICAgY29udGV4dC5kYXRhLm9uLmJlZm9yZUVudGVyID0gKGVsOiBIVE1MRWxlbWVudCkgPT4ge1xuICAgICAgICBlbC5zdHlsZS50cmFuc2Zvcm1PcmlnaW4gPSBjb250ZXh0LnByb3BzLm9yaWdpblxuICAgICAgICBlbC5zdHlsZS53ZWJraXRUcmFuc2Zvcm1PcmlnaW4gPSBjb250ZXh0LnByb3BzLm9yaWdpblxuICAgICAgfVxuXG4gICAgICByZXR1cm4gaCgndHJhbnNpdGlvbicsIGNvbnRleHQuZGF0YSwgY29udGV4dC5jaGlsZHJlbilcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUphdmFTY3JpcHRUcmFuc2l0aW9uIChcbiAgbmFtZTogc3RyaW5nLFxuICBmdW5jdGlvbnM6IFJlY29yZDxzdHJpbmcsICgpID0+IGFueT4sXG4gIGNzcyA9IGZhbHNlLFxuICBtb2RlID0gJ2luLW91dCdcbik6IEZ1bmN0aW9uYWxDb21wb25lbnRPcHRpb25zIHtcbiAgcmV0dXJuIHtcbiAgICBuYW1lLFxuXG4gICAgZnVuY3Rpb25hbDogdHJ1ZSxcblxuICAgIHByb3BzOiB7XG4gICAgICBjc3M6IHtcbiAgICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgICAgZGVmYXVsdDogY3NzXG4gICAgICB9LFxuICAgICAgbW9kZToge1xuICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgIGRlZmF1bHQ6IG1vZGVcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgcmVuZGVyIChoLCBjb250ZXh0KTogVk5vZGUge1xuICAgICAgY29uc3QgZGF0YSA9IHtcbiAgICAgICAgcHJvcHM6IHtcbiAgICAgICAgICAuLi5jb250ZXh0LnByb3BzLFxuICAgICAgICAgIG5hbWVcbiAgICAgICAgfSxcbiAgICAgICAgb246IGZ1bmN0aW9uc1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gaCgndHJhbnNpdGlvbicsIGRhdGEsIGNvbnRleHQuY2hpbGRyZW4pXG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCB0eXBlIEJpbmRpbmdDb25maWcgPSBQaWNrPFZOb2RlRGlyZWN0aXZlLCAnYXJnJyB8ICdtb2RpZmllcnMnIHwgJ3ZhbHVlJz5cbmV4cG9ydCBmdW5jdGlvbiBkaXJlY3RpdmVDb25maWcgKGJpbmRpbmc6IEJpbmRpbmdDb25maWcsIGRlZmF1bHRzID0ge30pOiBWTm9kZURpcmVjdGl2ZSB7XG4gIHJldHVybiB7XG4gICAgLi4uZGVmYXVsdHMsXG4gICAgLi4uYmluZGluZy5tb2RpZmllcnMsXG4gICAgdmFsdWU6IGJpbmRpbmcuYXJnLFxuICAgIC4uLihiaW5kaW5nLnZhbHVlIHx8IHt9KVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRPbmNlRXZlbnRMaXN0ZW5lciAoZWw6IEV2ZW50VGFyZ2V0LCBldmVudDogc3RyaW5nLCBjYjogKCkgPT4gdm9pZCk6IHZvaWQge1xuICB2YXIgb25jZSA9ICgpID0+IHtcbiAgICBjYigpXG4gICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgb25jZSwgZmFsc2UpXG4gIH1cblxuICBlbC5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBvbmNlLCBmYWxzZSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldE5lc3RlZFZhbHVlIChvYmo6IGFueSwgcGF0aDogKHN0cmluZyB8IG51bWJlcilbXSwgZmFsbGJhY2s/OiBhbnkpOiBhbnkge1xuICBjb25zdCBsYXN0ID0gcGF0aC5sZW5ndGggLSAxXG5cbiAgaWYgKGxhc3QgPCAwKSByZXR1cm4gb2JqID09PSB1bmRlZmluZWQgPyBmYWxsYmFjayA6IG9ialxuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbGFzdDsgaSsrKSB7XG4gICAgaWYgKG9iaiA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gZmFsbGJhY2tcbiAgICB9XG4gICAgb2JqID0gb2JqW3BhdGhbaV1dXG4gIH1cblxuICBpZiAob2JqID09IG51bGwpIHJldHVybiBmYWxsYmFja1xuXG4gIHJldHVybiBvYmpbcGF0aFtsYXN0XV0gPT09IHVuZGVmaW5lZCA/IGZhbGxiYWNrIDogb2JqW3BhdGhbbGFzdF1dXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkZWVwRXF1YWwgKGE6IGFueSwgYjogYW55KTogYm9vbGVhbiB7XG4gIGlmIChhID09PSBiKSByZXR1cm4gdHJ1ZVxuXG4gIGlmIChhIGluc3RhbmNlb2YgRGF0ZSAmJiBiIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgIC8vIElmIHRoZSB2YWx1ZXMgYXJlIERhdGUsIHRoZXkgd2VyZSBjb252ZXJ0IHRvIHRpbWVzdGFtcCB3aXRoIGdldFRpbWUgYW5kIGNvbXBhcmUgaXRcbiAgICBpZiAoYS5nZXRUaW1lKCkgIT09IGIuZ2V0VGltZSgpKSByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIGlmIChhICE9PSBPYmplY3QoYSkgfHwgYiAhPT0gT2JqZWN0KGIpKSB7XG4gICAgLy8gSWYgdGhlIHZhbHVlcyBhcmVuJ3Qgb2JqZWN0cywgdGhleSB3ZXJlIGFscmVhZHkgY2hlY2tlZCBmb3IgZXF1YWxpdHlcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIGNvbnN0IHByb3BzID0gT2JqZWN0LmtleXMoYSlcblxuICBpZiAocHJvcHMubGVuZ3RoICE9PSBPYmplY3Qua2V5cyhiKS5sZW5ndGgpIHtcbiAgICAvLyBEaWZmZXJlbnQgbnVtYmVyIG9mIHByb3BzLCBkb24ndCBib3RoZXIgdG8gY2hlY2tcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIHJldHVybiBwcm9wcy5ldmVyeShwID0+IGRlZXBFcXVhbChhW3BdLCBiW3BdKSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldE9iamVjdFZhbHVlQnlQYXRoIChvYmo6IG9iamVjdCwgcGF0aDogc3RyaW5nLCBmYWxsYmFjaz86IGFueSk6IGFueSB7XG4gIC8vIGNyZWRpdDogaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy82NDkxNDYzL2FjY2Vzc2luZy1uZXN0ZWQtamF2YXNjcmlwdC1vYmplY3RzLXdpdGgtc3RyaW5nLWtleSNjb21tZW50NTUyNzg0MTNfNjQ5MTYyMVxuICBpZiAoIXBhdGggfHwgcGF0aC5jb25zdHJ1Y3RvciAhPT0gU3RyaW5nKSByZXR1cm4gZmFsbGJhY2tcbiAgcGF0aCA9IHBhdGgucmVwbGFjZSgvXFxbKFxcdyspXFxdL2csICcuJDEnKSAvLyBjb252ZXJ0IGluZGV4ZXMgdG8gcHJvcGVydGllc1xuICBwYXRoID0gcGF0aC5yZXBsYWNlKC9eXFwuLywgJycpIC8vIHN0cmlwIGEgbGVhZGluZyBkb3RcbiAgcmV0dXJuIGdldE5lc3RlZFZhbHVlKG9iaiwgcGF0aC5zcGxpdCgnLicpLCBmYWxsYmFjaylcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFByb3BlcnR5RnJvbUl0ZW0gKFxuICBpdGVtOiBvYmplY3QsXG4gIHByb3BlcnR5OiBzdHJpbmcgfCAoc3RyaW5nIHwgbnVtYmVyKVtdIHwgKChpdGVtOiBvYmplY3QsIGZhbGxiYWNrPzogYW55KSA9PiBhbnkpLFxuICBmYWxsYmFjaz86IGFueVxuKTogYW55IHtcbiAgaWYgKHByb3BlcnR5ID09IG51bGwpIHJldHVybiBpdGVtID09PSB1bmRlZmluZWQgPyBmYWxsYmFjayA6IGl0ZW1cblxuICBpZiAoaXRlbSAhPT0gT2JqZWN0KGl0ZW0pKSByZXR1cm4gZmFsbGJhY2sgPT09IHVuZGVmaW5lZCA/IGl0ZW0gOiBmYWxsYmFja1xuXG4gIGlmICh0eXBlb2YgcHJvcGVydHkgPT09ICdzdHJpbmcnKSByZXR1cm4gZ2V0T2JqZWN0VmFsdWVCeVBhdGgoaXRlbSwgcHJvcGVydHksIGZhbGxiYWNrKVxuXG4gIGlmIChBcnJheS5pc0FycmF5KHByb3BlcnR5KSkgcmV0dXJuIGdldE5lc3RlZFZhbHVlKGl0ZW0sIHByb3BlcnR5LCBmYWxsYmFjaylcblxuICBpZiAodHlwZW9mIHByb3BlcnR5ICE9PSAnZnVuY3Rpb24nKSByZXR1cm4gZmFsbGJhY2tcblxuICBjb25zdCB2YWx1ZSA9IHByb3BlcnR5KGl0ZW0sIGZhbGxiYWNrKVxuXG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICd1bmRlZmluZWQnID8gZmFsbGJhY2sgOiB2YWx1ZVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlUmFuZ2UgKGxlbmd0aDogbnVtYmVyKTogbnVtYmVyW10ge1xuICByZXR1cm4gQXJyYXkuZnJvbSh7IGxlbmd0aCB9LCAodiwgaykgPT4gaylcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFpJbmRleCAoZWw/OiBFbGVtZW50IHwgbnVsbCk6IG51bWJlciB7XG4gIGlmICghZWwgfHwgZWwubm9kZVR5cGUgIT09IE5vZGUuRUxFTUVOVF9OT0RFKSByZXR1cm4gMFxuXG4gIGNvbnN0IGluZGV4ID0gK3dpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsKS5nZXRQcm9wZXJ0eVZhbHVlKCd6LWluZGV4JylcblxuICBpZiAoaXNOYU4oaW5kZXgpKSByZXR1cm4gZ2V0WkluZGV4KGVsLnBhcmVudE5vZGUgYXMgRWxlbWVudClcbiAgcmV0dXJuIGluZGV4XG59XG5cbmNvbnN0IHRhZ3NUb1JlcGxhY2UgPSB7XG4gICcmJzogJyZhbXA7JyxcbiAgJzwnOiAnJmx0OycsXG4gICc+JzogJyZndDsnXG59IGFzIGFueVxuXG5leHBvcnQgZnVuY3Rpb24gZXNjYXBlSFRNTCAoc3RyOiBzdHJpbmcpOiBzdHJpbmcge1xuICByZXR1cm4gc3RyLnJlcGxhY2UoL1smPD5dL2csIHRhZyA9PiB0YWdzVG9SZXBsYWNlW3RhZ10gfHwgdGFnKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZmlsdGVyT2JqZWN0T25LZXlzPFQsIEsgZXh0ZW5kcyBrZXlvZiBUPiAob2JqOiBULCBrZXlzOiBLW10pOiB7IFtOIGluIEtdOiBUW05dIH0ge1xuICBjb25zdCBmaWx0ZXJlZCA9IHt9IGFzIHsgW04gaW4gS106IFRbTl0gfVxuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGtleSA9IGtleXNbaV1cbiAgICBpZiAodHlwZW9mIG9ialtrZXldICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgZmlsdGVyZWRba2V5XSA9IG9ialtrZXldXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZpbHRlcmVkXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmaWx0ZXJDaGlsZHJlbiAoYXJyYXk6IFZOb2RlW10gPSBbXSwgdGFnOiBzdHJpbmcpOiBWTm9kZVtdIHtcbiAgcmV0dXJuIGFycmF5LmZpbHRlcihjaGlsZCA9PiB7XG4gICAgcmV0dXJuIGNoaWxkLmNvbXBvbmVudE9wdGlvbnMgJiZcbiAgICAgIGNoaWxkLmNvbXBvbmVudE9wdGlvbnMuQ3Rvci5vcHRpb25zLm5hbWUgPT09IHRhZ1xuICB9KVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY29udmVydFRvVW5pdCAoc3RyOiBzdHJpbmcgfCBudW1iZXIgfCBudWxsIHwgdW5kZWZpbmVkLCB1bml0ID0gJ3B4Jyk6IHN0cmluZyB8IHVuZGVmaW5lZCB7XG4gIGlmIChzdHIgPT0gbnVsbCB8fCBzdHIgPT09ICcnKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZFxuICB9IGVsc2UgaWYgKGlzTmFOKCtzdHIhKSkge1xuICAgIHJldHVybiBTdHJpbmcoc3RyKVxuICB9IGVsc2Uge1xuICAgIHJldHVybiBgJHtOdW1iZXIoc3RyKX0ke3VuaXR9YFxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBrZWJhYkNhc2UgKHN0cjogc3RyaW5nKTogc3RyaW5nIHtcbiAgcmV0dXJuIChzdHIgfHwgJycpLnJlcGxhY2UoLyhbYS16XSkoW0EtWl0pL2csICckMS0kMicpLnRvTG93ZXJDYXNlKClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzT2JqZWN0IChvYmo6IGFueSk6IG9iaiBpcyBvYmplY3Qge1xuICByZXR1cm4gb2JqICE9PSBudWxsICYmIHR5cGVvZiBvYmogPT09ICdvYmplY3QnXG59XG5cbi8vIEtleWJvYXJkRXZlbnQua2V5Q29kZSBhbGlhc2VzXG5leHBvcnQgY29uc3Qga2V5Q29kZXMgPSBPYmplY3QuZnJlZXplKHtcbiAgZW50ZXI6IDEzLFxuICB0YWI6IDksXG4gIGRlbGV0ZTogNDYsXG4gIGVzYzogMjcsXG4gIHNwYWNlOiAzMixcbiAgdXA6IDM4LFxuICBkb3duOiA0MCxcbiAgbGVmdDogMzcsXG4gIHJpZ2h0OiAzOSxcbiAgZW5kOiAzNSxcbiAgaG9tZTogMzYsXG4gIGRlbDogNDYsXG4gIGJhY2tzcGFjZTogOCxcbiAgaW5zZXJ0OiA0NSxcbiAgcGFnZXVwOiAzMyxcbiAgcGFnZWRvd246IDM0XG59KVxuXG5jb25zdCBJQ09OU19QUkVGSVggPSAnJHZ1ZXRpZnkuaWNvbnMuJ1xuXG4vLyBUaGlzIHJlbWFwcyBpbnRlcm5hbCBuYW1lcyBsaWtlICckdnVldGlmeS5pY29ucy5jYW5jZWwnIHRvIHRoZSBjdXJyZW50IG5hbWVcbi8vIGZvciB0aGF0IGljb24uXG5leHBvcnQgZnVuY3Rpb24gcmVtYXBJbnRlcm5hbEljb24gKHZtOiBWdWUsIGljb25OYW1lOiBzdHJpbmcpOiBzdHJpbmcge1xuICBpZiAoIWljb25OYW1lLnN0YXJ0c1dpdGgoSUNPTlNfUFJFRklYKSkge1xuICAgIHJldHVybiBpY29uTmFtZVxuICB9XG5cbiAgLy8gTm93IGxvb2sgdXAgaWNvbiBpbmRpcmVjdGlvbiBuYW1lLCBlLmcuICckdnVldGlmeS5pY29ucy5jYW5jZWwnXG4gIHJldHVybiBnZXRPYmplY3RWYWx1ZUJ5UGF0aCh2bSwgaWNvbk5hbWUsIGljb25OYW1lKVxufVxuXG5leHBvcnQgZnVuY3Rpb24ga2V5czxPPiAobzogTykge1xuICByZXR1cm4gT2JqZWN0LmtleXMobykgYXMgKGtleW9mIE8pW11cbn1cbiJdfQ==